//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/library/actor-cocoa-base/build/java/org/bouncycastle/math/field/FiniteFields.java
//

#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/math/BigInteger.h"
#include "org/bouncycastle/math/field/FiniteField.h"
#include "org/bouncycastle/math/field/FiniteFields.h"
#include "org/bouncycastle/math/field/GF2Polynomial.h"
#include "org/bouncycastle/math/field/GenericPolynomialExtensionField.h"
#include "org/bouncycastle/math/field/PolynomialExtensionField.h"
#include "org/bouncycastle/math/field/PrimeField.h"

BOOL OrgBouncycastleMathFieldFiniteFields_initialized = NO;

@implementation OrgBouncycastleMathFieldFiniteFields

id<OrgBouncycastleMathFieldFiniteField> OrgBouncycastleMathFieldFiniteFields_GF_2_;
id<OrgBouncycastleMathFieldFiniteField> OrgBouncycastleMathFieldFiniteFields_GF_3_;

+ (id<OrgBouncycastleMathFieldPolynomialExtensionField>)getBinaryExtensionFieldWithIntArray:(IOSIntArray *)exponents {
  return OrgBouncycastleMathFieldFiniteFields_getBinaryExtensionFieldWithIntArray_(exponents);
}

+ (id<OrgBouncycastleMathFieldFiniteField>)getPrimeFieldWithJavaMathBigInteger:(JavaMathBigInteger *)characteristic {
  return OrgBouncycastleMathFieldFiniteFields_getPrimeFieldWithJavaMathBigInteger_(characteristic);
}

- (instancetype)init {
  return [super init];
}

+ (void)initialize {
  if (self == [OrgBouncycastleMathFieldFiniteFields class]) {
    OrgBouncycastleMathFieldFiniteFields_GF_2_ = [[OrgBouncycastleMathFieldPrimeField alloc] initWithJavaMathBigInteger:JavaMathBigInteger_valueOfWithLong_(2)];
    OrgBouncycastleMathFieldFiniteFields_GF_3_ = [[OrgBouncycastleMathFieldPrimeField alloc] initWithJavaMathBigInteger:JavaMathBigInteger_valueOfWithLong_(3)];
    J2OBJC_SET_INITIALIZED(OrgBouncycastleMathFieldFiniteFields)
  }
}

@end

id<OrgBouncycastleMathFieldPolynomialExtensionField> OrgBouncycastleMathFieldFiniteFields_getBinaryExtensionFieldWithIntArray_(IOSIntArray *exponents) {
  OrgBouncycastleMathFieldFiniteFields_init();
  if (IOSIntArray_Get(nil_chk(exponents), 0) != 0) {
    @throw [[JavaLangIllegalArgumentException alloc] initWithNSString:@"Irreducible polynomials in GF(2) must have constant term"];
  }
  for (jint i = 1; i < exponents->size_; ++i) {
    if (IOSIntArray_Get(exponents, i) <= IOSIntArray_Get(exponents, i - 1)) {
      @throw [[JavaLangIllegalArgumentException alloc] initWithNSString:@"Polynomial exponents must be montonically increasing"];
    }
  }
  return [[OrgBouncycastleMathFieldGenericPolynomialExtensionField alloc] initWithOrgBouncycastleMathFieldFiniteField:OrgBouncycastleMathFieldFiniteFields_GF_2_ withOrgBouncycastleMathFieldPolynomial:[[OrgBouncycastleMathFieldGF2Polynomial alloc] initWithIntArray:exponents]];
}

id<OrgBouncycastleMathFieldFiniteField> OrgBouncycastleMathFieldFiniteFields_getPrimeFieldWithJavaMathBigInteger_(JavaMathBigInteger *characteristic) {
  OrgBouncycastleMathFieldFiniteFields_init();
  jint bitLength = [((JavaMathBigInteger *) nil_chk(characteristic)) bitLength];
  if ([characteristic signum] <= 0 || bitLength < 2) {
    @throw [[JavaLangIllegalArgumentException alloc] initWithNSString:@"'characteristic' must be >= 2"];
  }
  if (bitLength < 3) {
    switch ([characteristic intValue]) {
      case 2:
      return OrgBouncycastleMathFieldFiniteFields_GF_2_;
      case 3:
      return OrgBouncycastleMathFieldFiniteFields_GF_3_;
    }
  }
  return [[OrgBouncycastleMathFieldPrimeField alloc] initWithJavaMathBigInteger:characteristic];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastleMathFieldFiniteFields)
