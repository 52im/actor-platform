//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/im/actor/model/droidkit/actors/dispatch/DispatchResult.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "im/actor/model/droidkit/actors/Environment.h"
#include "im/actor/model/droidkit/actors/dispatch/DispatchResult.h"
#include "im/actor/model/util/ThreadLocalCompat.h"

@interface DKDispatchResult () {
 @public
  jboolean isResult__;
  id res_;
  jlong delay__;
}
@end

J2OBJC_FIELD_SETTER(DKDispatchResult, res_, id)

BOOL DKDispatchResult_initialized = NO;

@implementation DKDispatchResult

AMThreadLocalCompat * DKDispatchResult_FREE_RESULTS_;

+ (DKDispatchResult *)resultWithId:(id)res {
  return DKDispatchResult_resultWithId_(res);
}

+ (DKDispatchResult *)delayWithLong:(jlong)delay {
  return DKDispatchResult_delayWithLong_(delay);
}

- (instancetype)initWithBoolean:(jboolean)isResult
                         withId:(id)res
                       withLong:(jlong)delay {
  if (self = [super init]) {
    self->isResult__ = isResult;
    self->res_ = res;
    self->delay__ = delay;
  }
  return self;
}

- (void)updateWithBoolean:(jboolean)isResult
                   withId:(id)res
                 withLong:(jlong)delay {
  self->isResult__ = isResult;
  self->res_ = res;
  self->delay__ = delay;
}

- (jboolean)isResult {
  return isResult__;
}

- (id)getRes {
  return res_;
}

- (jlong)getDelay {
  return delay__;
}

- (void)recycle {
  [((AMThreadLocalCompat *) nil_chk(DKDispatchResult_FREE_RESULTS_)) setWithId:self];
}

- (void)copyAllFieldsTo:(DKDispatchResult *)other {
  [super copyAllFieldsTo:other];
  other->isResult__ = isResult__;
  other->res_ = res_;
  other->delay__ = delay__;
}

+ (void)initialize {
  if (self == [DKDispatchResult class]) {
    DKDispatchResult_FREE_RESULTS_ = DKEnvironment_createThreadLocal();
    J2OBJC_SET_INITIALIZED(DKDispatchResult)
  }
}

@end

DKDispatchResult *DKDispatchResult_resultWithId_(id res) {
  DKDispatchResult_init();
  DKDispatchResult *result = [((AMThreadLocalCompat *) nil_chk(DKDispatchResult_FREE_RESULTS_)) get];
  if (result != nil) {
    [DKDispatchResult_FREE_RESULTS_ remove];
    [result updateWithBoolean:YES withId:res withLong:0];
  }
  else {
    result = [[DKDispatchResult alloc] initWithBoolean:YES withId:res withLong:0];
  }
  return result;
}

DKDispatchResult *DKDispatchResult_delayWithLong_(jlong delay) {
  DKDispatchResult_init();
  DKDispatchResult *result = [((AMThreadLocalCompat *) nil_chk(DKDispatchResult_FREE_RESULTS_)) get];
  if (result != nil) {
    [DKDispatchResult_FREE_RESULTS_ remove];
    [result updateWithBoolean:NO withId:nil withLong:delay];
  }
  else {
    result = [[DKDispatchResult alloc] initWithBoolean:NO withId:nil withLong:delay];
  }
  return result;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(DKDispatchResult)
