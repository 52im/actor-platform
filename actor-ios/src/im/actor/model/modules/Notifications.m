//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/im/actor/model/modules/Notifications.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "im/actor/model/StorageProvider.h"
#include "im/actor/model/droidkit/actors/ActorRef.h"
#include "im/actor/model/droidkit/actors/ActorSystem.h"
#include "im/actor/model/droidkit/actors/Props.h"
#include "im/actor/model/droidkit/engine/KeyValueStorage.h"
#include "im/actor/model/droidkit/engine/SyncKeyValue.h"
#include "im/actor/model/entity/ContentDescription.h"
#include "im/actor/model/entity/Peer.h"
#include "im/actor/model/modules/BaseModule.h"
#include "im/actor/model/modules/Modules.h"
#include "im/actor/model/modules/Notifications.h"
#include "im/actor/model/modules/notifications/NotificationsActor.h"

@interface ImActorModelModulesNotifications () {
 @public
  DKActorRef *notificationsActor_;
  DKSyncKeyValue *notificationsStorage_;
}
@end

J2OBJC_FIELD_SETTER(ImActorModelModulesNotifications, notificationsActor_, DKActorRef *)
J2OBJC_FIELD_SETTER(ImActorModelModulesNotifications, notificationsStorage_, DKSyncKeyValue *)

@interface ImActorModelModulesNotifications_$1 () {
 @public
  ImActorModelModulesModules *val$modules_;
}
@end

J2OBJC_FIELD_SETTER(ImActorModelModulesNotifications_$1, val$modules_, ImActorModelModulesModules *)

@implementation ImActorModelModulesNotifications

- (instancetype)initWithImActorModelModulesModules:(ImActorModelModulesModules *)modules {
  if (self = [super initWithImActorModelModulesModules:modules]) {
    notificationsStorage_ = [[DKSyncKeyValue alloc] initWithDKKeyValueStorage:[((id<AMStorageProvider>) nil_chk([self storage])) createKeyValue:ImActorModelModulesBaseModule_get_STORAGE_NOTIFICATIONS_()]];
    self->notificationsActor_ = [((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesNotificationsNotificationsActor_class_(), [[ImActorModelModulesNotifications_$1 alloc] initWithImActorModelModulesModules:modules]) withNSString:@"actor/notifications"];
  }
  return self;
}

- (DKSyncKeyValue *)getNotificationsStorage {
  return notificationsStorage_;
}

- (void)onOwnReadWithAMPeer:(AMPeer *)peer
                   withLong:(jlong)fromDate {
  [((DKActorRef *) nil_chk(notificationsActor_)) sendWithId:[[ImActorModelModulesNotificationsNotificationsActor_MessagesRead alloc] initWithAMPeer:peer withLong:fromDate]];
}

- (void)onInMessageWithAMPeer:(AMPeer *)peer
                      withInt:(jint)sender
                     withLong:(jlong)sortDate
     withAMContentDescription:(AMContentDescription *)contentDescription {
  [((DKActorRef *) nil_chk(notificationsActor_)) sendWithId:[[ImActorModelModulesNotificationsNotificationsActor_NewMessage alloc] initWithAMPeer:peer withInt:sender withLong:sortDate withAMContentDescription:contentDescription]];
}

- (void)onConversationOpenWithAMPeer:(AMPeer *)peer {
  [((DKActorRef *) nil_chk(notificationsActor_)) sendWithId:[[ImActorModelModulesNotificationsNotificationsActor_OnConversationVisible alloc] initWithAMPeer:peer]];
}

- (void)onConversationCloseWithAMPeer:(AMPeer *)peer {
  [((DKActorRef *) nil_chk(notificationsActor_)) sendWithId:[[ImActorModelModulesNotificationsNotificationsActor_OnConversationHidden alloc] initWithAMPeer:peer]];
}

- (void)onDialogsOpen {
  [((DKActorRef *) nil_chk(notificationsActor_)) sendWithId:[[ImActorModelModulesNotificationsNotificationsActor_OnDialogsVisible alloc] init]];
}

- (void)onDialogsClosed {
  [((DKActorRef *) nil_chk(notificationsActor_)) sendWithId:[[ImActorModelModulesNotificationsNotificationsActor_OnDialogsHidden alloc] init]];
}

- (void)onAppVisible {
  [((DKActorRef *) nil_chk(notificationsActor_)) sendWithId:[[ImActorModelModulesNotificationsNotificationsActor_OnAppVisible alloc] init]];
}

- (void)onAppHidden {
  [((DKActorRef *) nil_chk(notificationsActor_)) sendWithId:[[ImActorModelModulesNotificationsNotificationsActor_OnAppHidden alloc] init]];
}

- (void)copyAllFieldsTo:(ImActorModelModulesNotifications *)other {
  [super copyAllFieldsTo:other];
  other->notificationsActor_ = notificationsActor_;
  other->notificationsStorage_ = notificationsStorage_;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesNotifications)

@implementation ImActorModelModulesNotifications_$1

- (ImActorModelModulesNotificationsNotificationsActor *)create {
  return [[ImActorModelModulesNotificationsNotificationsActor alloc] initWithImActorModelModulesModules:val$modules_];
}

- (instancetype)initWithImActorModelModulesModules:(ImActorModelModulesModules *)capture$0 {
  val$modules_ = capture$0;
  return [super init];
}

- (void)copyAllFieldsTo:(ImActorModelModulesNotifications_$1 *)other {
  [super copyAllFieldsTo:other];
  other->val$modules_ = val$modules_;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesNotifications_$1)
