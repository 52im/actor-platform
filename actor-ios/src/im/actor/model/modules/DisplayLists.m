//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/im/actor/model/modules/DisplayLists.java
//

#include "J2ObjC_source.h"
#include "im/actor/model/droidkit/engine/ListEngine.h"
#include "im/actor/model/droidkit/engine/ListEngineDisplayExt.h"
#include "im/actor/model/modules/BaseModule.h"
#include "im/actor/model/modules/Contacts.h"
#include "im/actor/model/modules/DisplayLists.h"
#include "im/actor/model/modules/Messages.h"
#include "im/actor/model/modules/Modules.h"
#include "im/actor/model/mvvm/BindedDisplayList.h"
#include "im/actor/model/mvvm/MVVMEngine.h"
#include "java/lang/RuntimeException.h"

@interface ImActorModelModulesDisplayLists () {
 @public
  AMBindedDisplayList *dialogGlobalList_;
  AMBindedDisplayList *contactsGlobalList_;
}
@end

J2OBJC_FIELD_SETTER(ImActorModelModulesDisplayLists, dialogGlobalList_, AMBindedDisplayList *)
J2OBJC_FIELD_SETTER(ImActorModelModulesDisplayLists, contactsGlobalList_, AMBindedDisplayList *)

@implementation ImActorModelModulesDisplayLists

- (instancetype)initWithImActorModelModulesModules:(ImActorModelModulesModules *)modules {
  return [super initWithImActorModelModulesModules:modules];
}

- (AMBindedDisplayList *)getContactsGlobalList {
  AMMVVMEngine_checkMainThread();
  if (contactsGlobalList_ == nil) {
    contactsGlobalList_ = [self buildNewContactListWithBoolean:YES];
  }
  return contactsGlobalList_;
}

- (AMBindedDisplayList *)getDialogsGlobalList {
  AMMVVMEngine_checkMainThread();
  if (dialogGlobalList_ == nil) {
    dialogGlobalList_ = [self buildNewDialogsListWithBoolean:YES];
  }
  return dialogGlobalList_;
}

- (AMBindedDisplayList *)buildNewDialogsListWithBoolean:(jboolean)disableDispose {
  AMMVVMEngine_checkMainThread();
  id<DKListEngine> dialogsEngine = [((ImActorModelModulesMessages *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getMessagesModule])) getDialogsEngine];
  if (!([DKListEngineDisplayExt_class_() isInstance:dialogsEngine])) {
    @throw [[JavaLangRuntimeException alloc] initWithNSString:@"Dialogs ListEngine must implement ListEngineDisplayExt for using global list"];
  }
  AMBindedDisplayList *displayList = [[AMBindedDisplayList alloc] initWithDKListEngineDisplayExt:(id<DKListEngineDisplayExt>) check_protocol_cast(dialogsEngine, @protocol(DKListEngineDisplayExt)) withBoolean:disableDispose];
  [displayList initTopWithBoolean:NO];
  return displayList;
}

- (AMBindedDisplayList *)buildNewContactListWithBoolean:(jboolean)disableDispose {
  AMMVVMEngine_checkMainThread();
  id<DKListEngine> contactsEngine = [((ImActorModelModulesContacts *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getContactsModule])) getContacts];
  if (!([DKListEngineDisplayExt_class_() isInstance:contactsEngine])) {
    @throw [[JavaLangRuntimeException alloc] initWithNSString:@"Contacts ListEngine must implement ListEngineDisplayExt for using global list"];
  }
  AMBindedDisplayList *contactList = [[AMBindedDisplayList alloc] initWithDKListEngineDisplayExt:(id<DKListEngineDisplayExt>) check_protocol_cast(contactsEngine, @protocol(DKListEngineDisplayExt)) withBoolean:disableDispose];
  [contactList initTopWithBoolean:NO];
  return contactList;
}

- (void)copyAllFieldsTo:(ImActorModelModulesDisplayLists *)other {
  [super copyAllFieldsTo:other];
  other->dialogGlobalList_ = dialogGlobalList_;
  other->contactsGlobalList_ = contactsGlobalList_;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesDisplayLists)
