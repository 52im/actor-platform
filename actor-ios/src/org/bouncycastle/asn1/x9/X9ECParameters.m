//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/org/bouncycastle/asn1/x9/X9ECParameters.java
//

#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/math/BigInteger.h"
#include "org/bouncycastle/asn1/ASN1Encodable.h"
#include "org/bouncycastle/asn1/ASN1EncodableVector.h"
#include "org/bouncycastle/asn1/ASN1Integer.h"
#include "org/bouncycastle/asn1/ASN1OctetString.h"
#include "org/bouncycastle/asn1/ASN1Primitive.h"
#include "org/bouncycastle/asn1/ASN1Sequence.h"
#include "org/bouncycastle/asn1/DERSequence.h"
#include "org/bouncycastle/asn1/x9/X9Curve.h"
#include "org/bouncycastle/asn1/x9/X9ECParameters.h"
#include "org/bouncycastle/asn1/x9/X9ECPoint.h"
#include "org/bouncycastle/asn1/x9/X9FieldID.h"
#include "org/bouncycastle/math/ec/ECAlgorithms.h"
#include "org/bouncycastle/math/ec/ECCurve.h"
#include "org/bouncycastle/math/ec/ECPoint.h"
#include "org/bouncycastle/math/field/FiniteField.h"
#include "org/bouncycastle/math/field/Polynomial.h"
#include "org/bouncycastle/math/field/PolynomialExtensionField.h"

@interface OrgBouncycastleAsn1X9X9ECParameters () {
 @public
  OrgBouncycastleAsn1X9X9FieldID *fieldID_;
  OrgBouncycastleMathEcECCurve *curve_;
  OrgBouncycastleMathEcECPoint *g_;
  JavaMathBigInteger *n_;
  JavaMathBigInteger *h_;
  IOSByteArray *seed_;
}
- (instancetype)initWithOrgBouncycastleAsn1ASN1Sequence:(OrgBouncycastleAsn1ASN1Sequence *)seq;
@end

J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1X9X9ECParameters, fieldID_, OrgBouncycastleAsn1X9X9FieldID *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1X9X9ECParameters, curve_, OrgBouncycastleMathEcECCurve *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1X9X9ECParameters, g_, OrgBouncycastleMathEcECPoint *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1X9X9ECParameters, n_, JavaMathBigInteger *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1X9X9ECParameters, h_, JavaMathBigInteger *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1X9X9ECParameters, seed_, IOSByteArray *)

BOOL OrgBouncycastleAsn1X9X9ECParameters_initialized = NO;

@implementation OrgBouncycastleAsn1X9X9ECParameters

JavaMathBigInteger * OrgBouncycastleAsn1X9X9ECParameters_ONE_;

- (instancetype)initWithOrgBouncycastleAsn1ASN1Sequence:(OrgBouncycastleAsn1ASN1Sequence *)seq {
  if (self = [super init]) {
    if (!([[((OrgBouncycastleAsn1ASN1Sequence *) nil_chk(seq)) getObjectAtWithInt:0] isKindOfClass:[OrgBouncycastleAsn1ASN1Integer class]]) || ![((JavaMathBigInteger *) nil_chk([((OrgBouncycastleAsn1ASN1Integer *) nil_chk(((OrgBouncycastleAsn1ASN1Integer *) check_class_cast([seq getObjectAtWithInt:0], [OrgBouncycastleAsn1ASN1Integer class])))) getValue])) isEqual:OrgBouncycastleAsn1X9X9ECParameters_ONE_]) {
      @throw [[JavaLangIllegalArgumentException alloc] initWithNSString:@"bad version in X9ECParameters"];
    }
    OrgBouncycastleAsn1X9X9Curve *x9c = [[OrgBouncycastleAsn1X9X9Curve alloc] initWithOrgBouncycastleAsn1X9X9FieldID:OrgBouncycastleAsn1X9X9FieldID_getInstanceWithId_([seq getObjectAtWithInt:1]) withOrgBouncycastleAsn1ASN1Sequence:OrgBouncycastleAsn1ASN1Sequence_getInstanceWithId_([seq getObjectAtWithInt:2])];
    self->curve_ = [x9c getCurve];
    id p = [seq getObjectAtWithInt:3];
    if ([p isKindOfClass:[OrgBouncycastleAsn1X9X9ECPoint class]]) {
      self->g_ = [((OrgBouncycastleAsn1X9X9ECPoint *) nil_chk(((OrgBouncycastleAsn1X9X9ECPoint *) check_class_cast(p, [OrgBouncycastleAsn1X9X9ECPoint class])))) getPoint];
    }
    else {
      self->g_ = [((OrgBouncycastleAsn1X9X9ECPoint *) [[OrgBouncycastleAsn1X9X9ECPoint alloc] initWithOrgBouncycastleMathEcECCurve:curve_ withOrgBouncycastleAsn1ASN1OctetString:(OrgBouncycastleAsn1ASN1OctetString *) check_class_cast(p, [OrgBouncycastleAsn1ASN1OctetString class])]) getPoint];
    }
    self->n_ = [((OrgBouncycastleAsn1ASN1Integer *) nil_chk(((OrgBouncycastleAsn1ASN1Integer *) check_class_cast([seq getObjectAtWithInt:4], [OrgBouncycastleAsn1ASN1Integer class])))) getValue];
    self->seed_ = [x9c getSeed];
    if ([seq size] == 6) {
      self->h_ = [((OrgBouncycastleAsn1ASN1Integer *) nil_chk(((OrgBouncycastleAsn1ASN1Integer *) check_class_cast([seq getObjectAtWithInt:5], [OrgBouncycastleAsn1ASN1Integer class])))) getValue];
    }
  }
  return self;
}

+ (OrgBouncycastleAsn1X9X9ECParameters *)getInstanceWithId:(id)obj {
  return OrgBouncycastleAsn1X9X9ECParameters_getInstanceWithId_(obj);
}

- (instancetype)initWithOrgBouncycastleMathEcECCurve:(OrgBouncycastleMathEcECCurve *)curve
                    withOrgBouncycastleMathEcECPoint:(OrgBouncycastleMathEcECPoint *)g
                              withJavaMathBigInteger:(JavaMathBigInteger *)n {
  return [self initOrgBouncycastleAsn1X9X9ECParametersWithOrgBouncycastleMathEcECCurve:curve withOrgBouncycastleMathEcECPoint:g withJavaMathBigInteger:n withJavaMathBigInteger:OrgBouncycastleAsn1X9X9ECParameters_ONE_ withByteArray:nil];
}

- (instancetype)initWithOrgBouncycastleMathEcECCurve:(OrgBouncycastleMathEcECCurve *)curve
                    withOrgBouncycastleMathEcECPoint:(OrgBouncycastleMathEcECPoint *)g
                              withJavaMathBigInteger:(JavaMathBigInteger *)n
                              withJavaMathBigInteger:(JavaMathBigInteger *)h {
  return [self initOrgBouncycastleAsn1X9X9ECParametersWithOrgBouncycastleMathEcECCurve:curve withOrgBouncycastleMathEcECPoint:g withJavaMathBigInteger:n withJavaMathBigInteger:h withByteArray:nil];
}

- (instancetype)initOrgBouncycastleAsn1X9X9ECParametersWithOrgBouncycastleMathEcECCurve:(OrgBouncycastleMathEcECCurve *)curve
                                                       withOrgBouncycastleMathEcECPoint:(OrgBouncycastleMathEcECPoint *)g
                                                                 withJavaMathBigInteger:(JavaMathBigInteger *)n
                                                                 withJavaMathBigInteger:(JavaMathBigInteger *)h
                                                                          withByteArray:(IOSByteArray *)seed {
  if (self = [super init]) {
    self->curve_ = curve;
    self->g_ = [((OrgBouncycastleMathEcECPoint *) nil_chk(g)) normalize];
    self->n_ = n;
    self->h_ = h;
    self->seed_ = seed;
    if (OrgBouncycastleMathEcECAlgorithms_isFpCurveWithOrgBouncycastleMathEcECCurve_(curve)) {
      self->fieldID_ = [[OrgBouncycastleAsn1X9X9FieldID alloc] initWithJavaMathBigInteger:[((id<OrgBouncycastleMathFieldFiniteField>) nil_chk([((OrgBouncycastleMathEcECCurve *) nil_chk(curve)) getField])) getCharacteristic]];
    }
    else if (OrgBouncycastleMathEcECAlgorithms_isF2mCurveWithOrgBouncycastleMathEcECCurve_(curve)) {
      id<OrgBouncycastleMathFieldPolynomialExtensionField> field = (id<OrgBouncycastleMathFieldPolynomialExtensionField>) check_protocol_cast([((OrgBouncycastleMathEcECCurve *) nil_chk(curve)) getField], @protocol(OrgBouncycastleMathFieldPolynomialExtensionField));
      IOSIntArray *exponents = [((id<OrgBouncycastleMathFieldPolynomial>) nil_chk([((id<OrgBouncycastleMathFieldPolynomialExtensionField>) nil_chk(field)) getMinimalPolynomial])) getExponentsPresent];
      if (((IOSIntArray *) nil_chk(exponents))->size_ == 3) {
        self->fieldID_ = [[OrgBouncycastleAsn1X9X9FieldID alloc] initWithInt:IOSIntArray_Get(exponents, 2) withInt:IOSIntArray_Get(exponents, 1)];
      }
      else if (exponents->size_ == 5) {
        self->fieldID_ = [[OrgBouncycastleAsn1X9X9FieldID alloc] initWithInt:IOSIntArray_Get(exponents, 4) withInt:IOSIntArray_Get(exponents, 1) withInt:IOSIntArray_Get(exponents, 2) withInt:IOSIntArray_Get(exponents, 3)];
      }
      else {
        @throw [[JavaLangIllegalArgumentException alloc] initWithNSString:@"Only trinomial and pentomial curves are supported"];
      }
    }
    else {
      @throw [[JavaLangIllegalArgumentException alloc] initWithNSString:@"'curve' is of an unsupported type"];
    }
  }
  return self;
}

- (instancetype)initWithOrgBouncycastleMathEcECCurve:(OrgBouncycastleMathEcECCurve *)curve
                    withOrgBouncycastleMathEcECPoint:(OrgBouncycastleMathEcECPoint *)g
                              withJavaMathBigInteger:(JavaMathBigInteger *)n
                              withJavaMathBigInteger:(JavaMathBigInteger *)h
                                       withByteArray:(IOSByteArray *)seed {
  return [self initOrgBouncycastleAsn1X9X9ECParametersWithOrgBouncycastleMathEcECCurve:curve withOrgBouncycastleMathEcECPoint:g withJavaMathBigInteger:n withJavaMathBigInteger:h withByteArray:seed];
}

- (OrgBouncycastleMathEcECCurve *)getCurve {
  return curve_;
}

- (OrgBouncycastleMathEcECPoint *)getG {
  return g_;
}

- (JavaMathBigInteger *)getN {
  return n_;
}

- (JavaMathBigInteger *)getH {
  if (h_ == nil) {
    return OrgBouncycastleAsn1X9X9ECParameters_ONE_;
  }
  return h_;
}

- (IOSByteArray *)getSeed {
  return seed_;
}

- (OrgBouncycastleAsn1ASN1Primitive *)toASN1Primitive {
  OrgBouncycastleAsn1ASN1EncodableVector *v = [[OrgBouncycastleAsn1ASN1EncodableVector alloc] init];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1ASN1Integer alloc] initWithLong:1]];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:fieldID_];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1X9X9Curve alloc] initWithOrgBouncycastleMathEcECCurve:curve_ withByteArray:seed_]];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1X9X9ECPoint alloc] initWithOrgBouncycastleMathEcECPoint:g_]];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1ASN1Integer alloc] initWithJavaMathBigInteger:n_]];
  if (h_ != nil) {
    [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1ASN1Integer alloc] initWithJavaMathBigInteger:h_]];
  }
  return [[OrgBouncycastleAsn1DERSequence alloc] initWithOrgBouncycastleAsn1ASN1EncodableVector:v];
}

- (void)copyAllFieldsTo:(OrgBouncycastleAsn1X9X9ECParameters *)other {
  [super copyAllFieldsTo:other];
  other->fieldID_ = fieldID_;
  other->curve_ = curve_;
  other->g_ = g_;
  other->n_ = n_;
  other->h_ = h_;
  other->seed_ = seed_;
}

+ (void)initialize {
  if (self == [OrgBouncycastleAsn1X9X9ECParameters class]) {
    OrgBouncycastleAsn1X9X9ECParameters_ONE_ = JavaMathBigInteger_valueOfWithLong_(1);
    J2OBJC_SET_INITIALIZED(OrgBouncycastleAsn1X9X9ECParameters)
  }
}

@end

OrgBouncycastleAsn1X9X9ECParameters *OrgBouncycastleAsn1X9X9ECParameters_getInstanceWithId_(id obj) {
  OrgBouncycastleAsn1X9X9ECParameters_init();
  if ([obj isKindOfClass:[OrgBouncycastleAsn1X9X9ECParameters class]]) {
    return (OrgBouncycastleAsn1X9X9ECParameters *) check_class_cast(obj, [OrgBouncycastleAsn1X9X9ECParameters class]);
  }
  if (obj != nil) {
    return [[OrgBouncycastleAsn1X9X9ECParameters alloc] initWithOrgBouncycastleAsn1ASN1Sequence:OrgBouncycastleAsn1ASN1Sequence_getInstanceWithId_(obj)];
  }
  return nil;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastleAsn1X9X9ECParameters)
