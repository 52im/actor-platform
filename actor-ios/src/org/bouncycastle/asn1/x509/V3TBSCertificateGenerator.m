//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/org/bouncycastle/asn1/x509/V3TBSCertificateGenerator.java
//

#include "J2ObjC_source.h"
#include "java/lang/IllegalStateException.h"
#include "org/bouncycastle/asn1/ASN1EncodableVector.h"
#include "org/bouncycastle/asn1/ASN1Integer.h"
#include "org/bouncycastle/asn1/ASN1ObjectIdentifier.h"
#include "org/bouncycastle/asn1/ASN1Primitive.h"
#include "org/bouncycastle/asn1/ASN1UTCTime.h"
#include "org/bouncycastle/asn1/DERBitString.h"
#include "org/bouncycastle/asn1/DERSequence.h"
#include "org/bouncycastle/asn1/DERTaggedObject.h"
#include "org/bouncycastle/asn1/x500/X500Name.h"
#include "org/bouncycastle/asn1/x509/AlgorithmIdentifier.h"
#include "org/bouncycastle/asn1/x509/Extension.h"
#include "org/bouncycastle/asn1/x509/Extensions.h"
#include "org/bouncycastle/asn1/x509/SubjectPublicKeyInfo.h"
#include "org/bouncycastle/asn1/x509/TBSCertificate.h"
#include "org/bouncycastle/asn1/x509/Time.h"
#include "org/bouncycastle/asn1/x509/V3TBSCertificateGenerator.h"
#include "org/bouncycastle/asn1/x509/X509Extensions.h"
#include "org/bouncycastle/asn1/x509/X509Name.h"

@interface OrgBouncycastleAsn1X509V3TBSCertificateGenerator () {
 @public
  jboolean altNamePresentAndCritical_;
  OrgBouncycastleAsn1DERBitString *issuerUniqueID_;
  OrgBouncycastleAsn1DERBitString *subjectUniqueID_;
}
@end

J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1X509V3TBSCertificateGenerator, issuerUniqueID_, OrgBouncycastleAsn1DERBitString *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1X509V3TBSCertificateGenerator, subjectUniqueID_, OrgBouncycastleAsn1DERBitString *)

@implementation OrgBouncycastleAsn1X509V3TBSCertificateGenerator

- (instancetype)init {
  if (self = [super init]) {
    version__ = [[OrgBouncycastleAsn1DERTaggedObject alloc] initWithBoolean:YES withInt:0 withOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1ASN1Integer alloc] initWithLong:2]];
  }
  return self;
}

- (void)setSerialNumberWithOrgBouncycastleAsn1ASN1Integer:(OrgBouncycastleAsn1ASN1Integer *)serialNumber {
  self->serialNumber_ = serialNumber;
}

- (void)setSignatureWithOrgBouncycastleAsn1X509AlgorithmIdentifier:(OrgBouncycastleAsn1X509AlgorithmIdentifier *)signature {
  self->signature_ = signature;
}

- (void)setIssuerWithOrgBouncycastleAsn1X509X509Name:(OrgBouncycastleAsn1X509X509Name *)issuer {
  self->issuer_ = OrgBouncycastleAsn1X500X500Name_getInstanceWithId_(issuer);
}

- (void)setIssuerWithOrgBouncycastleAsn1X500X500Name:(OrgBouncycastleAsn1X500X500Name *)issuer {
  self->issuer_ = issuer;
}

- (void)setStartDateWithOrgBouncycastleAsn1ASN1UTCTime:(OrgBouncycastleAsn1ASN1UTCTime *)startDate {
  self->startDate_ = [[OrgBouncycastleAsn1X509Time alloc] initWithOrgBouncycastleAsn1ASN1Primitive:startDate];
}

- (void)setStartDateWithOrgBouncycastleAsn1X509Time:(OrgBouncycastleAsn1X509Time *)startDate {
  self->startDate_ = startDate;
}

- (void)setEndDateWithOrgBouncycastleAsn1ASN1UTCTime:(OrgBouncycastleAsn1ASN1UTCTime *)endDate {
  self->endDate_ = [[OrgBouncycastleAsn1X509Time alloc] initWithOrgBouncycastleAsn1ASN1Primitive:endDate];
}

- (void)setEndDateWithOrgBouncycastleAsn1X509Time:(OrgBouncycastleAsn1X509Time *)endDate {
  self->endDate_ = endDate;
}

- (void)setSubjectWithOrgBouncycastleAsn1X509X509Name:(OrgBouncycastleAsn1X509X509Name *)subject {
  self->subject_ = OrgBouncycastleAsn1X500X500Name_getInstanceWithId_([((OrgBouncycastleAsn1X509X509Name *) nil_chk(subject)) toASN1Primitive]);
}

- (void)setSubjectWithOrgBouncycastleAsn1X500X500Name:(OrgBouncycastleAsn1X500X500Name *)subject {
  self->subject_ = subject;
}

- (void)setIssuerUniqueIDWithOrgBouncycastleAsn1DERBitString:(OrgBouncycastleAsn1DERBitString *)uniqueID {
  self->issuerUniqueID_ = uniqueID;
}

- (void)setSubjectUniqueIDWithOrgBouncycastleAsn1DERBitString:(OrgBouncycastleAsn1DERBitString *)uniqueID {
  self->subjectUniqueID_ = uniqueID;
}

- (void)setSubjectPublicKeyInfoWithOrgBouncycastleAsn1X509SubjectPublicKeyInfo:(OrgBouncycastleAsn1X509SubjectPublicKeyInfo *)pubKeyInfo {
  self->subjectPublicKeyInfo_ = pubKeyInfo;
}

- (void)setExtensionsWithOrgBouncycastleAsn1X509X509Extensions:(OrgBouncycastleAsn1X509X509Extensions *)extensions {
  [self setExtensionsWithOrgBouncycastleAsn1X509Extensions:OrgBouncycastleAsn1X509Extensions_getInstanceWithId_(extensions)];
}

- (void)setExtensionsWithOrgBouncycastleAsn1X509Extensions:(OrgBouncycastleAsn1X509Extensions *)extensions {
  self->extensions_ = extensions;
  if (extensions != nil) {
    OrgBouncycastleAsn1X509Extension *altName = [extensions getExtensionWithOrgBouncycastleAsn1ASN1ObjectIdentifier:OrgBouncycastleAsn1X509Extension_get_subjectAlternativeName_()];
    if (altName != nil && [altName isCritical]) {
      altNamePresentAndCritical_ = YES;
    }
  }
}

- (OrgBouncycastleAsn1X509TBSCertificate *)generateTBSCertificate {
  if ((serialNumber_ == nil) || (signature_ == nil) || (issuer_ == nil) || (startDate_ == nil) || (endDate_ == nil) || (subject_ == nil && !altNamePresentAndCritical_) || (subjectPublicKeyInfo_ == nil)) {
    @throw [[JavaLangIllegalStateException alloc] initWithNSString:@"not all mandatory fields set in V3 TBScertificate generator"];
  }
  OrgBouncycastleAsn1ASN1EncodableVector *v = [[OrgBouncycastleAsn1ASN1EncodableVector alloc] init];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:version__];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:serialNumber_];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:signature_];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:issuer_];
  OrgBouncycastleAsn1ASN1EncodableVector *validity = [[OrgBouncycastleAsn1ASN1EncodableVector alloc] init];
  [validity addWithOrgBouncycastleAsn1ASN1Encodable:startDate_];
  [validity addWithOrgBouncycastleAsn1ASN1Encodable:endDate_];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1DERSequence alloc] initWithOrgBouncycastleAsn1ASN1EncodableVector:validity]];
  if (subject_ != nil) {
    [v addWithOrgBouncycastleAsn1ASN1Encodable:subject_];
  }
  else {
    [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1DERSequence alloc] init]];
  }
  [v addWithOrgBouncycastleAsn1ASN1Encodable:subjectPublicKeyInfo_];
  if (issuerUniqueID_ != nil) {
    [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1DERTaggedObject alloc] initWithBoolean:NO withInt:1 withOrgBouncycastleAsn1ASN1Encodable:issuerUniqueID_]];
  }
  if (subjectUniqueID_ != nil) {
    [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1DERTaggedObject alloc] initWithBoolean:NO withInt:2 withOrgBouncycastleAsn1ASN1Encodable:subjectUniqueID_]];
  }
  if (extensions_ != nil) {
    [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1DERTaggedObject alloc] initWithBoolean:YES withInt:3 withOrgBouncycastleAsn1ASN1Encodable:extensions_]];
  }
  return OrgBouncycastleAsn1X509TBSCertificate_getInstanceWithId_([[OrgBouncycastleAsn1DERSequence alloc] initWithOrgBouncycastleAsn1ASN1EncodableVector:v]);
}

- (void)copyAllFieldsTo:(OrgBouncycastleAsn1X509V3TBSCertificateGenerator *)other {
  [super copyAllFieldsTo:other];
  other->version__ = version__;
  other->serialNumber_ = serialNumber_;
  other->signature_ = signature_;
  other->issuer_ = issuer_;
  other->startDate_ = startDate_;
  other->endDate_ = endDate_;
  other->subject_ = subject_;
  other->subjectPublicKeyInfo_ = subjectPublicKeyInfo_;
  other->extensions_ = extensions_;
  other->altNamePresentAndCritical_ = altNamePresentAndCritical_;
  other->issuerUniqueID_ = issuerUniqueID_;
  other->subjectUniqueID_ = subjectUniqueID_;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastleAsn1X509V3TBSCertificateGenerator)
