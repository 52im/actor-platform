//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/org/bouncycastle/asn1/x509/KeyUsage.java
//

#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Integer.h"
#include "org/bouncycastle/asn1/ASN1Encodable.h"
#include "org/bouncycastle/asn1/ASN1ObjectIdentifier.h"
#include "org/bouncycastle/asn1/ASN1Primitive.h"
#include "org/bouncycastle/asn1/DERBitString.h"
#include "org/bouncycastle/asn1/x509/Extension.h"
#include "org/bouncycastle/asn1/x509/Extensions.h"
#include "org/bouncycastle/asn1/x509/KeyUsage.h"

@interface OrgBouncycastleAsn1X509KeyUsage () {
 @public
  OrgBouncycastleAsn1DERBitString *bitString_;
}
- (instancetype)initWithOrgBouncycastleAsn1DERBitString:(OrgBouncycastleAsn1DERBitString *)bitString;
@end

J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1X509KeyUsage, bitString_, OrgBouncycastleAsn1DERBitString *)

@implementation OrgBouncycastleAsn1X509KeyUsage

+ (OrgBouncycastleAsn1X509KeyUsage *)getInstanceWithId:(id)obj {
  return OrgBouncycastleAsn1X509KeyUsage_getInstanceWithId_(obj);
}

+ (OrgBouncycastleAsn1X509KeyUsage *)fromExtensionsWithOrgBouncycastleAsn1X509Extensions:(OrgBouncycastleAsn1X509Extensions *)extensions {
  return OrgBouncycastleAsn1X509KeyUsage_fromExtensionsWithOrgBouncycastleAsn1X509Extensions_(extensions);
}

- (instancetype)initWithInt:(jint)usage {
  if (self = [super init]) {
    self->bitString_ = [[OrgBouncycastleAsn1DERBitString alloc] initWithInt:usage];
  }
  return self;
}

- (instancetype)initWithOrgBouncycastleAsn1DERBitString:(OrgBouncycastleAsn1DERBitString *)bitString {
  if (self = [super init]) {
    self->bitString_ = bitString;
  }
  return self;
}

- (jboolean)hasUsagesWithInt:(jint)usages {
  return ([((OrgBouncycastleAsn1DERBitString *) nil_chk(bitString_)) intValue] & usages) == usages;
}

- (IOSByteArray *)getBytes {
  return [((OrgBouncycastleAsn1DERBitString *) nil_chk(bitString_)) getBytes];
}

- (jint)getPadBits {
  return [((OrgBouncycastleAsn1DERBitString *) nil_chk(bitString_)) getPadBits];
}

- (NSString *)description {
  IOSByteArray *data = [((OrgBouncycastleAsn1DERBitString *) nil_chk(bitString_)) getBytes];
  if (((IOSByteArray *) nil_chk(data))->size_ == 1) {
    return JreStrcat("$$", @"KeyUsage: 0x", JavaLangInteger_toHexStringWithInt_(IOSByteArray_Get(data, 0) & (jint) 0xff));
  }
  return JreStrcat("$$", @"KeyUsage: 0x", JavaLangInteger_toHexStringWithInt_((LShift32((IOSByteArray_Get(data, 1) & (jint) 0xff), 8)) | (IOSByteArray_Get(data, 0) & (jint) 0xff)));
}

- (OrgBouncycastleAsn1ASN1Primitive *)toASN1Primitive {
  return bitString_;
}

- (void)copyAllFieldsTo:(OrgBouncycastleAsn1X509KeyUsage *)other {
  [super copyAllFieldsTo:other];
  other->bitString_ = bitString_;
}

@end

OrgBouncycastleAsn1X509KeyUsage *OrgBouncycastleAsn1X509KeyUsage_getInstanceWithId_(id obj) {
  OrgBouncycastleAsn1X509KeyUsage_init();
  if ([obj isKindOfClass:[OrgBouncycastleAsn1X509KeyUsage class]]) {
    return (OrgBouncycastleAsn1X509KeyUsage *) check_class_cast(obj, [OrgBouncycastleAsn1X509KeyUsage class]);
  }
  else if (obj != nil) {
    return [[OrgBouncycastleAsn1X509KeyUsage alloc] initWithOrgBouncycastleAsn1DERBitString:OrgBouncycastleAsn1DERBitString_getInstanceWithId_(obj)];
  }
  return nil;
}

OrgBouncycastleAsn1X509KeyUsage *OrgBouncycastleAsn1X509KeyUsage_fromExtensionsWithOrgBouncycastleAsn1X509Extensions_(OrgBouncycastleAsn1X509Extensions *extensions) {
  OrgBouncycastleAsn1X509KeyUsage_init();
  return OrgBouncycastleAsn1X509KeyUsage_getInstanceWithId_([((OrgBouncycastleAsn1X509Extensions *) nil_chk(extensions)) getExtensionParsedValueWithOrgBouncycastleAsn1ASN1ObjectIdentifier:OrgBouncycastleAsn1X509Extension_get_keyUsage_()]);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastleAsn1X509KeyUsage)
