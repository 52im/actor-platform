//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/org/bouncycastle/asn1/x500/style/AbstractX500NameStyle.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/RuntimeException.h"
#include "java/util/Enumeration.h"
#include "java/util/Hashtable.h"
#include "org/bouncycastle/asn1/ASN1Encodable.h"
#include "org/bouncycastle/asn1/ASN1ObjectIdentifier.h"
#include "org/bouncycastle/asn1/DERUTF8String.h"
#include "org/bouncycastle/asn1/x500/AttributeTypeAndValue.h"
#include "org/bouncycastle/asn1/x500/RDN.h"
#include "org/bouncycastle/asn1/x500/X500Name.h"
#include "org/bouncycastle/asn1/x500/style/AbstractX500NameStyle.h"
#include "org/bouncycastle/asn1/x500/style/IETFUtils.h"

#pragma clang diagnostic ignored "-Wprotocol"

__attribute__((unused)) static jint OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_calcHashCodeWithOrgBouncycastleAsn1ASN1Encodable_(OrgBouncycastleAsn1X500StyleAbstractX500NameStyle *self, id<OrgBouncycastleAsn1ASN1Encodable> enc);
__attribute__((unused)) static jboolean OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_foundMatchWithBoolean_withOrgBouncycastleAsn1X500RDN_withOrgBouncycastleAsn1X500RDNArray_(OrgBouncycastleAsn1X500StyleAbstractX500NameStyle *self, jboolean reverse, OrgBouncycastleAsn1X500RDN *rdn, IOSObjectArray *possRDNs);

@interface OrgBouncycastleAsn1X500StyleAbstractX500NameStyle ()

- (jint)calcHashCodeWithOrgBouncycastleAsn1ASN1Encodable:(id<OrgBouncycastleAsn1ASN1Encodable>)enc;

- (jboolean)foundMatchWithBoolean:(jboolean)reverse
   withOrgBouncycastleAsn1X500RDN:(OrgBouncycastleAsn1X500RDN *)rdn
withOrgBouncycastleAsn1X500RDNArray:(IOSObjectArray *)possRDNs;
@end

@implementation OrgBouncycastleAsn1X500StyleAbstractX500NameStyle

+ (JavaUtilHashtable *)copyHashTableWithJavaUtilHashtable:(JavaUtilHashtable *)paramsMap {
  return OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_copyHashTableWithJavaUtilHashtable_(paramsMap);
}

- (jint)calcHashCodeWithOrgBouncycastleAsn1ASN1Encodable:(id<OrgBouncycastleAsn1ASN1Encodable>)enc {
  return OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_calcHashCodeWithOrgBouncycastleAsn1ASN1Encodable_(self, enc);
}

- (jint)calculateHashCodeWithOrgBouncycastleAsn1X500X500Name:(OrgBouncycastleAsn1X500X500Name *)name {
  jint hashCodeValue = 0;
  IOSObjectArray *rdns = [((OrgBouncycastleAsn1X500X500Name *) nil_chk(name)) getRDNs];
  for (jint i = 0; i != ((IOSObjectArray *) nil_chk(rdns))->size_; i++) {
    if ([((OrgBouncycastleAsn1X500RDN *) nil_chk(IOSObjectArray_Get(rdns, i))) isMultiValued]) {
      IOSObjectArray *atv = [((OrgBouncycastleAsn1X500RDN *) nil_chk(IOSObjectArray_Get(rdns, i))) getTypesAndValues];
      for (jint j = 0; j != ((IOSObjectArray *) nil_chk(atv))->size_; j++) {
        hashCodeValue ^= ((jint) [((OrgBouncycastleAsn1ASN1ObjectIdentifier *) nil_chk([((OrgBouncycastleAsn1X500AttributeTypeAndValue *) nil_chk(IOSObjectArray_Get(atv, j))) getType])) hash]);
        hashCodeValue ^= OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_calcHashCodeWithOrgBouncycastleAsn1ASN1Encodable_(self, [((OrgBouncycastleAsn1X500AttributeTypeAndValue *) nil_chk(IOSObjectArray_Get(atv, j))) getValue]);
      }
    }
    else {
      hashCodeValue ^= ((jint) [((OrgBouncycastleAsn1ASN1ObjectIdentifier *) nil_chk([((OrgBouncycastleAsn1X500AttributeTypeAndValue *) nil_chk([((OrgBouncycastleAsn1X500RDN *) nil_chk(IOSObjectArray_Get(rdns, i))) getFirst])) getType])) hash]);
      hashCodeValue ^= OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_calcHashCodeWithOrgBouncycastleAsn1ASN1Encodable_(self, [((OrgBouncycastleAsn1X500AttributeTypeAndValue *) nil_chk([((OrgBouncycastleAsn1X500RDN *) nil_chk(IOSObjectArray_Get(rdns, i))) getFirst])) getValue]);
    }
  }
  return hashCodeValue;
}

- (id<OrgBouncycastleAsn1ASN1Encodable>)stringToValueWithOrgBouncycastleAsn1ASN1ObjectIdentifier:(OrgBouncycastleAsn1ASN1ObjectIdentifier *)oid
                                                                                    withNSString:(NSString *)value {
  if (((jint) [((NSString *) nil_chk(value)) length]) != 0 && [value charAtWithInt:0] == '#') {
    @try {
      return OrgBouncycastleAsn1X500StyleIETFUtils_valueFromHexStringWithNSString_withInt_(value, 1);
    }
    @catch (JavaIoIOException *e) {
      @throw [[JavaLangRuntimeException alloc] initWithNSString:JreStrcat("$$", @"can't recode value for oid ", [((OrgBouncycastleAsn1ASN1ObjectIdentifier *) nil_chk(oid)) getId])];
    }
  }
  if (((jint) [value length]) != 0 && [value charAtWithInt:0] == '\\') {
    value = [value substring:1];
  }
  return [self encodeStringValueWithOrgBouncycastleAsn1ASN1ObjectIdentifier:oid withNSString:value];
}

- (id<OrgBouncycastleAsn1ASN1Encodable>)encodeStringValueWithOrgBouncycastleAsn1ASN1ObjectIdentifier:(OrgBouncycastleAsn1ASN1ObjectIdentifier *)oid
                                                                                        withNSString:(NSString *)value {
  return [[OrgBouncycastleAsn1DERUTF8String alloc] initWithNSString:value];
}

- (jboolean)areEqualWithOrgBouncycastleAsn1X500X500Name:(OrgBouncycastleAsn1X500X500Name *)name1
                    withOrgBouncycastleAsn1X500X500Name:(OrgBouncycastleAsn1X500X500Name *)name2 {
  IOSObjectArray *rdns1 = [((OrgBouncycastleAsn1X500X500Name *) nil_chk(name1)) getRDNs];
  IOSObjectArray *rdns2 = [((OrgBouncycastleAsn1X500X500Name *) nil_chk(name2)) getRDNs];
  if (((IOSObjectArray *) nil_chk(rdns1))->size_ != ((IOSObjectArray *) nil_chk(rdns2))->size_) {
    return NO;
  }
  jboolean reverse = NO;
  if ([((OrgBouncycastleAsn1X500RDN *) nil_chk(IOSObjectArray_Get(rdns1, 0))) getFirst] != nil && [((OrgBouncycastleAsn1X500RDN *) nil_chk(IOSObjectArray_Get(rdns2, 0))) getFirst] != nil) {
    reverse = ![((OrgBouncycastleAsn1ASN1ObjectIdentifier *) nil_chk([((OrgBouncycastleAsn1X500AttributeTypeAndValue *) nil_chk([((OrgBouncycastleAsn1X500RDN *) nil_chk(IOSObjectArray_Get(rdns1, 0))) getFirst])) getType])) isEqual:[((OrgBouncycastleAsn1X500AttributeTypeAndValue *) nil_chk([((OrgBouncycastleAsn1X500RDN *) nil_chk(IOSObjectArray_Get(rdns2, 0))) getFirst])) getType]];
  }
  for (jint i = 0; i != rdns1->size_; i++) {
    if (!OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_foundMatchWithBoolean_withOrgBouncycastleAsn1X500RDN_withOrgBouncycastleAsn1X500RDNArray_(self, reverse, IOSObjectArray_Get(rdns1, i), rdns2)) {
      return NO;
    }
  }
  return YES;
}

- (jboolean)foundMatchWithBoolean:(jboolean)reverse
   withOrgBouncycastleAsn1X500RDN:(OrgBouncycastleAsn1X500RDN *)rdn
withOrgBouncycastleAsn1X500RDNArray:(IOSObjectArray *)possRDNs {
  return OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_foundMatchWithBoolean_withOrgBouncycastleAsn1X500RDN_withOrgBouncycastleAsn1X500RDNArray_(self, reverse, rdn, possRDNs);
}

- (jboolean)rdnAreEqualWithOrgBouncycastleAsn1X500RDN:(OrgBouncycastleAsn1X500RDN *)rdn1
                       withOrgBouncycastleAsn1X500RDN:(OrgBouncycastleAsn1X500RDN *)rdn2 {
  return OrgBouncycastleAsn1X500StyleIETFUtils_rDNAreEqualWithOrgBouncycastleAsn1X500RDN_withOrgBouncycastleAsn1X500RDN_(rdn1, rdn2);
}

- (instancetype)init {
  return [super init];
}

@end

JavaUtilHashtable *OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_copyHashTableWithJavaUtilHashtable_(JavaUtilHashtable *paramsMap) {
  OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_init();
  JavaUtilHashtable *newTable = [[JavaUtilHashtable alloc] init];
  id<JavaUtilEnumeration> keys = [((JavaUtilHashtable *) nil_chk(paramsMap)) keys];
  while ([((id<JavaUtilEnumeration>) nil_chk(keys)) hasMoreElements]) {
    id key = [keys nextElement];
    (void) [newTable putWithId:key withId:[paramsMap getWithId:key]];
  }
  return newTable;
}

jint OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_calcHashCodeWithOrgBouncycastleAsn1ASN1Encodable_(OrgBouncycastleAsn1X500StyleAbstractX500NameStyle *self, id<OrgBouncycastleAsn1ASN1Encodable> enc) {
  NSString *value = OrgBouncycastleAsn1X500StyleIETFUtils_valueToStringWithOrgBouncycastleAsn1ASN1Encodable_(enc);
  value = OrgBouncycastleAsn1X500StyleIETFUtils_canonicalizeWithNSString_(value);
  return ((jint) [((NSString *) nil_chk(value)) hash]);
}

jboolean OrgBouncycastleAsn1X500StyleAbstractX500NameStyle_foundMatchWithBoolean_withOrgBouncycastleAsn1X500RDN_withOrgBouncycastleAsn1X500RDNArray_(OrgBouncycastleAsn1X500StyleAbstractX500NameStyle *self, jboolean reverse, OrgBouncycastleAsn1X500RDN *rdn, IOSObjectArray *possRDNs) {
  if (reverse) {
    for (jint i = ((IOSObjectArray *) nil_chk(possRDNs))->size_ - 1; i >= 0; i--) {
      if (IOSObjectArray_Get(possRDNs, i) != nil && [self rdnAreEqualWithOrgBouncycastleAsn1X500RDN:rdn withOrgBouncycastleAsn1X500RDN:IOSObjectArray_Get(possRDNs, i)]) {
        IOSObjectArray_Set(possRDNs, i, nil);
        return YES;
      }
    }
  }
  else {
    for (jint i = 0; i != ((IOSObjectArray *) nil_chk(possRDNs))->size_; i++) {
      if (IOSObjectArray_Get(possRDNs, i) != nil && [self rdnAreEqualWithOrgBouncycastleAsn1X500RDN:rdn withOrgBouncycastleAsn1X500RDN:IOSObjectArray_Get(possRDNs, i)]) {
        IOSObjectArray_Set(possRDNs, i, nil);
        return YES;
      }
    }
  }
  return NO;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastleAsn1X500StyleAbstractX500NameStyle)
