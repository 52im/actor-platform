//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/org/bouncycastle/asn1/DERSet.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/util/Enumeration.h"
#include "org/bouncycastle/asn1/ASN1Encodable.h"
#include "org/bouncycastle/asn1/ASN1EncodableVector.h"
#include "org/bouncycastle/asn1/ASN1OutputStream.h"
#include "org/bouncycastle/asn1/ASN1Primitive.h"
#include "org/bouncycastle/asn1/BERTags.h"
#include "org/bouncycastle/asn1/DERSet.h"
#include "org/bouncycastle/asn1/StreamUtil.h"

__attribute__((unused)) static jint OrgBouncycastleAsn1DERSet_getBodyLength(OrgBouncycastleAsn1DERSet *self);

@interface OrgBouncycastleAsn1DERSet () {
 @public
  jint bodyLength_;
}

- (jint)getBodyLength;
@end

@implementation OrgBouncycastleAsn1DERSet

- (instancetype)init {
  if (self = [super init]) {
    bodyLength_ = -1;
  }
  return self;
}

- (instancetype)initWithOrgBouncycastleAsn1ASN1Encodable:(id<OrgBouncycastleAsn1ASN1Encodable>)obj {
  if (self = [super initWithOrgBouncycastleAsn1ASN1Encodable:obj]) {
    bodyLength_ = -1;
  }
  return self;
}

- (instancetype)initWithOrgBouncycastleAsn1ASN1EncodableVector:(OrgBouncycastleAsn1ASN1EncodableVector *)v {
  if (self = [super initWithOrgBouncycastleAsn1ASN1EncodableVector:v withBoolean:YES]) {
    bodyLength_ = -1;
  }
  return self;
}

- (instancetype)initWithOrgBouncycastleAsn1ASN1EncodableArray:(IOSObjectArray *)a {
  if (self = [super initWithOrgBouncycastleAsn1ASN1EncodableArray:a withBoolean:YES]) {
    bodyLength_ = -1;
  }
  return self;
}

- (instancetype)initWithOrgBouncycastleAsn1ASN1EncodableVector:(OrgBouncycastleAsn1ASN1EncodableVector *)v
                                                   withBoolean:(jboolean)doSort {
  if (self = [super initWithOrgBouncycastleAsn1ASN1EncodableVector:v withBoolean:doSort]) {
    bodyLength_ = -1;
  }
  return self;
}

- (jint)getBodyLength {
  return OrgBouncycastleAsn1DERSet_getBodyLength(self);
}

- (jint)encodedLength {
  jint length = OrgBouncycastleAsn1DERSet_getBodyLength(self);
  return 1 + OrgBouncycastleAsn1StreamUtil_calculateBodyLengthWithInt_(length) + length;
}

- (void)encodeWithOrgBouncycastleAsn1ASN1OutputStream:(OrgBouncycastleAsn1ASN1OutputStream *)outArg {
  OrgBouncycastleAsn1ASN1OutputStream *dOut = [((OrgBouncycastleAsn1ASN1OutputStream *) nil_chk(outArg)) getDERSubStream];
  jint length = OrgBouncycastleAsn1DERSet_getBodyLength(self);
  [outArg writeWithInt:OrgBouncycastleAsn1BERTags_SET | OrgBouncycastleAsn1BERTags_CONSTRUCTED];
  [outArg writeLengthWithInt:length];
  for (id<JavaUtilEnumeration> e = [self getObjects]; [((id<JavaUtilEnumeration>) nil_chk(e)) hasMoreElements]; ) {
    id obj = [e nextElement];
    [((OrgBouncycastleAsn1ASN1OutputStream *) nil_chk(dOut)) writeObjectWithOrgBouncycastleAsn1ASN1Encodable:(id<OrgBouncycastleAsn1ASN1Encodable>) check_protocol_cast(obj, @protocol(OrgBouncycastleAsn1ASN1Encodable))];
  }
}

- (void)copyAllFieldsTo:(OrgBouncycastleAsn1DERSet *)other {
  [super copyAllFieldsTo:other];
  other->bodyLength_ = bodyLength_;
}

@end

jint OrgBouncycastleAsn1DERSet_getBodyLength(OrgBouncycastleAsn1DERSet *self) {
  if (self->bodyLength_ < 0) {
    jint length = 0;
    for (id<JavaUtilEnumeration> e = [self getObjects]; [((id<JavaUtilEnumeration>) nil_chk(e)) hasMoreElements]; ) {
      id obj = [e nextElement];
      length += [((OrgBouncycastleAsn1ASN1Primitive *) nil_chk([((OrgBouncycastleAsn1ASN1Primitive *) nil_chk([((id<OrgBouncycastleAsn1ASN1Encodable>) nil_chk(((id<OrgBouncycastleAsn1ASN1Encodable>) check_protocol_cast(obj, @protocol(OrgBouncycastleAsn1ASN1Encodable))))) toASN1Primitive])) toDERObject])) encodedLength];
    }
    self->bodyLength_ = length;
  }
  return self->bodyLength_;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastleAsn1DERSet)
