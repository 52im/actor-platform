//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/org/bouncycastle/asn1/BERTaggedObject.java
//

#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/RuntimeException.h"
#include "java/util/Enumeration.h"
#include "org/bouncycastle/asn1/ASN1Encodable.h"
#include "org/bouncycastle/asn1/ASN1OctetString.h"
#include "org/bouncycastle/asn1/ASN1OutputStream.h"
#include "org/bouncycastle/asn1/ASN1Primitive.h"
#include "org/bouncycastle/asn1/ASN1Sequence.h"
#include "org/bouncycastle/asn1/ASN1Set.h"
#include "org/bouncycastle/asn1/BEROctetString.h"
#include "org/bouncycastle/asn1/BERSequence.h"
#include "org/bouncycastle/asn1/BERTaggedObject.h"
#include "org/bouncycastle/asn1/BERTags.h"
#include "org/bouncycastle/asn1/StreamUtil.h"

@implementation OrgBouncycastleAsn1BERTaggedObject

- (instancetype)initWithInt:(jint)tagNo
withOrgBouncycastleAsn1ASN1Encodable:(id<OrgBouncycastleAsn1ASN1Encodable>)obj {
  return [super initWithBoolean:YES withInt:tagNo withOrgBouncycastleAsn1ASN1Encodable:obj];
}

- (instancetype)initWithBoolean:(jboolean)explicit_
                        withInt:(jint)tagNo
withOrgBouncycastleAsn1ASN1Encodable:(id<OrgBouncycastleAsn1ASN1Encodable>)obj {
  return [super initWithBoolean:explicit_ withInt:tagNo withOrgBouncycastleAsn1ASN1Encodable:obj];
}

- (instancetype)initWithInt:(jint)tagNo {
  return [super initWithBoolean:NO withInt:tagNo withOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1BERSequence alloc] init]];
}

- (jboolean)isConstructed {
  if (!empty_) {
    if (explicit__) {
      return YES;
    }
    else {
      OrgBouncycastleAsn1ASN1Primitive *primitive = [((OrgBouncycastleAsn1ASN1Primitive *) nil_chk([((id<OrgBouncycastleAsn1ASN1Encodable>) nil_chk(obj_)) toASN1Primitive])) toDERObject];
      return [((OrgBouncycastleAsn1ASN1Primitive *) nil_chk(primitive)) isConstructed];
    }
  }
  else {
    return YES;
  }
}

- (jint)encodedLength {
  if (!empty_) {
    OrgBouncycastleAsn1ASN1Primitive *primitive = [((id<OrgBouncycastleAsn1ASN1Encodable>) nil_chk(obj_)) toASN1Primitive];
    jint length = [((OrgBouncycastleAsn1ASN1Primitive *) nil_chk(primitive)) encodedLength];
    if (explicit__) {
      return OrgBouncycastleAsn1StreamUtil_calculateTagLengthWithInt_(tagNo_) + OrgBouncycastleAsn1StreamUtil_calculateBodyLengthWithInt_(length) + length;
    }
    else {
      length = length - 1;
      return OrgBouncycastleAsn1StreamUtil_calculateTagLengthWithInt_(tagNo_) + length;
    }
  }
  else {
    return OrgBouncycastleAsn1StreamUtil_calculateTagLengthWithInt_(tagNo_) + 1;
  }
}

- (void)encodeWithOrgBouncycastleAsn1ASN1OutputStream:(OrgBouncycastleAsn1ASN1OutputStream *)outArg {
  [((OrgBouncycastleAsn1ASN1OutputStream *) nil_chk(outArg)) writeTagWithInt:OrgBouncycastleAsn1BERTags_CONSTRUCTED | OrgBouncycastleAsn1BERTags_TAGGED withInt:tagNo_];
  [outArg writeWithInt:(jint) 0x80];
  if (!empty_) {
    if (!explicit__) {
      id<JavaUtilEnumeration> e;
      if ([obj_ isKindOfClass:[OrgBouncycastleAsn1ASN1OctetString class]]) {
        if ([obj_ isKindOfClass:[OrgBouncycastleAsn1BEROctetString class]]) {
          e = [((OrgBouncycastleAsn1BEROctetString *) nil_chk(((OrgBouncycastleAsn1BEROctetString *) check_class_cast(obj_, [OrgBouncycastleAsn1BEROctetString class])))) getObjects];
        }
        else {
          OrgBouncycastleAsn1ASN1OctetString *octs = (OrgBouncycastleAsn1ASN1OctetString *) check_class_cast(obj_, [OrgBouncycastleAsn1ASN1OctetString class]);
          OrgBouncycastleAsn1BEROctetString *berO = [[OrgBouncycastleAsn1BEROctetString alloc] initWithByteArray:[((OrgBouncycastleAsn1ASN1OctetString *) nil_chk(octs)) getOctets]];
          e = [berO getObjects];
        }
      }
      else if ([obj_ isKindOfClass:[OrgBouncycastleAsn1ASN1Sequence class]]) {
        e = [((OrgBouncycastleAsn1ASN1Sequence *) nil_chk(((OrgBouncycastleAsn1ASN1Sequence *) check_class_cast(obj_, [OrgBouncycastleAsn1ASN1Sequence class])))) getObjects];
      }
      else if ([obj_ isKindOfClass:[OrgBouncycastleAsn1ASN1Set class]]) {
        e = [((OrgBouncycastleAsn1ASN1Set *) nil_chk(((OrgBouncycastleAsn1ASN1Set *) check_class_cast(obj_, [OrgBouncycastleAsn1ASN1Set class])))) getObjects];
      }
      else {
        @throw [[JavaLangRuntimeException alloc] initWithNSString:JreStrcat("$$", @"not implemented: ", [[((id<OrgBouncycastleAsn1ASN1Encodable>) nil_chk(obj_)) getClass] getName])];
      }
      while ([((id<JavaUtilEnumeration>) nil_chk(e)) hasMoreElements]) {
        [outArg writeObjectWithOrgBouncycastleAsn1ASN1Encodable:(id<OrgBouncycastleAsn1ASN1Encodable>) check_protocol_cast([e nextElement], @protocol(OrgBouncycastleAsn1ASN1Encodable))];
      }
    }
    else {
      [outArg writeObjectWithOrgBouncycastleAsn1ASN1Encodable:obj_];
    }
  }
  [outArg writeWithInt:(jint) 0x00];
  [outArg writeWithInt:(jint) 0x00];
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastleAsn1BERTaggedObject)
