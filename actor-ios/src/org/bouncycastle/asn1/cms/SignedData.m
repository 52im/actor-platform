//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/org/bouncycastle/asn1/cms/SignedData.java
//

#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/math/BigInteger.h"
#include "java/util/Enumeration.h"
#include "org/bouncycastle/asn1/ASN1EncodableVector.h"
#include "org/bouncycastle/asn1/ASN1Integer.h"
#include "org/bouncycastle/asn1/ASN1ObjectIdentifier.h"
#include "org/bouncycastle/asn1/ASN1Primitive.h"
#include "org/bouncycastle/asn1/ASN1Sequence.h"
#include "org/bouncycastle/asn1/ASN1Set.h"
#include "org/bouncycastle/asn1/ASN1TaggedObject.h"
#include "org/bouncycastle/asn1/BERSequence.h"
#include "org/bouncycastle/asn1/BERSet.h"
#include "org/bouncycastle/asn1/BERTaggedObject.h"
#include "org/bouncycastle/asn1/DERTaggedObject.h"
#include "org/bouncycastle/asn1/cms/CMSObjectIdentifiers.h"
#include "org/bouncycastle/asn1/cms/ContentInfo.h"
#include "org/bouncycastle/asn1/cms/SignedData.h"
#include "org/bouncycastle/asn1/cms/SignerInfo.h"

__attribute__((unused)) static OrgBouncycastleAsn1ASN1Integer *OrgBouncycastleAsn1CmsSignedData_calculateVersionWithOrgBouncycastleAsn1ASN1ObjectIdentifier_withOrgBouncycastleAsn1ASN1Set_withOrgBouncycastleAsn1ASN1Set_withOrgBouncycastleAsn1ASN1Set_(OrgBouncycastleAsn1CmsSignedData *self, OrgBouncycastleAsn1ASN1ObjectIdentifier *contentOid, OrgBouncycastleAsn1ASN1Set *certs, OrgBouncycastleAsn1ASN1Set *crls, OrgBouncycastleAsn1ASN1Set *signerInfs);
__attribute__((unused)) static jboolean OrgBouncycastleAsn1CmsSignedData_checkForVersion3WithOrgBouncycastleAsn1ASN1Set_(OrgBouncycastleAsn1CmsSignedData *self, OrgBouncycastleAsn1ASN1Set *signerInfs);

@interface OrgBouncycastleAsn1CmsSignedData () {
 @public
  OrgBouncycastleAsn1ASN1Integer *version__;
  OrgBouncycastleAsn1ASN1Set *digestAlgorithms_;
  OrgBouncycastleAsn1CmsContentInfo *contentInfo_;
  OrgBouncycastleAsn1ASN1Set *certificates_;
  OrgBouncycastleAsn1ASN1Set *crls_;
  OrgBouncycastleAsn1ASN1Set *signerInfos_;
  jboolean certsBer_;
  jboolean crlsBer_;
}

- (OrgBouncycastleAsn1ASN1Integer *)calculateVersionWithOrgBouncycastleAsn1ASN1ObjectIdentifier:(OrgBouncycastleAsn1ASN1ObjectIdentifier *)contentOid
                                                                 withOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)certs
                                                                 withOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)crls
                                                                 withOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)signerInfs;

- (jboolean)checkForVersion3WithOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)signerInfs;
- (instancetype)initWithOrgBouncycastleAsn1ASN1Sequence:(OrgBouncycastleAsn1ASN1Sequence *)seq;
@end

J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1CmsSignedData, version__, OrgBouncycastleAsn1ASN1Integer *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1CmsSignedData, digestAlgorithms_, OrgBouncycastleAsn1ASN1Set *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1CmsSignedData, contentInfo_, OrgBouncycastleAsn1CmsContentInfo *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1CmsSignedData, certificates_, OrgBouncycastleAsn1ASN1Set *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1CmsSignedData, crls_, OrgBouncycastleAsn1ASN1Set *)
J2OBJC_FIELD_SETTER(OrgBouncycastleAsn1CmsSignedData, signerInfos_, OrgBouncycastleAsn1ASN1Set *)

BOOL OrgBouncycastleAsn1CmsSignedData_initialized = NO;

@implementation OrgBouncycastleAsn1CmsSignedData

OrgBouncycastleAsn1ASN1Integer * OrgBouncycastleAsn1CmsSignedData_VERSION_1_;
OrgBouncycastleAsn1ASN1Integer * OrgBouncycastleAsn1CmsSignedData_VERSION_3_;
OrgBouncycastleAsn1ASN1Integer * OrgBouncycastleAsn1CmsSignedData_VERSION_4_;
OrgBouncycastleAsn1ASN1Integer * OrgBouncycastleAsn1CmsSignedData_VERSION_5_;

+ (OrgBouncycastleAsn1CmsSignedData *)getInstanceWithId:(id)o {
  return OrgBouncycastleAsn1CmsSignedData_getInstanceWithId_(o);
}

- (instancetype)initWithOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)digestAlgorithms
             withOrgBouncycastleAsn1CmsContentInfo:(OrgBouncycastleAsn1CmsContentInfo *)contentInfo
                    withOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)certificates
                    withOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)crls
                    withOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)signerInfos {
  if (self = [super init]) {
    self->version__ = OrgBouncycastleAsn1CmsSignedData_calculateVersionWithOrgBouncycastleAsn1ASN1ObjectIdentifier_withOrgBouncycastleAsn1ASN1Set_withOrgBouncycastleAsn1ASN1Set_withOrgBouncycastleAsn1ASN1Set_(self, [((OrgBouncycastleAsn1CmsContentInfo *) nil_chk(contentInfo)) getContentType], certificates, crls, signerInfos);
    self->digestAlgorithms_ = digestAlgorithms;
    self->contentInfo_ = contentInfo;
    self->certificates_ = certificates;
    self->crls_ = crls;
    self->signerInfos_ = signerInfos;
    self->crlsBer_ = [crls isKindOfClass:[OrgBouncycastleAsn1BERSet class]];
    self->certsBer_ = [certificates isKindOfClass:[OrgBouncycastleAsn1BERSet class]];
  }
  return self;
}

- (OrgBouncycastleAsn1ASN1Integer *)calculateVersionWithOrgBouncycastleAsn1ASN1ObjectIdentifier:(OrgBouncycastleAsn1ASN1ObjectIdentifier *)contentOid
                                                                 withOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)certs
                                                                 withOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)crls
                                                                 withOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)signerInfs {
  return OrgBouncycastleAsn1CmsSignedData_calculateVersionWithOrgBouncycastleAsn1ASN1ObjectIdentifier_withOrgBouncycastleAsn1ASN1Set_withOrgBouncycastleAsn1ASN1Set_withOrgBouncycastleAsn1ASN1Set_(self, contentOid, certs, crls, signerInfs);
}

- (jboolean)checkForVersion3WithOrgBouncycastleAsn1ASN1Set:(OrgBouncycastleAsn1ASN1Set *)signerInfs {
  return OrgBouncycastleAsn1CmsSignedData_checkForVersion3WithOrgBouncycastleAsn1ASN1Set_(self, signerInfs);
}

- (instancetype)initWithOrgBouncycastleAsn1ASN1Sequence:(OrgBouncycastleAsn1ASN1Sequence *)seq {
  if (self = [super init]) {
    id<JavaUtilEnumeration> e = [((OrgBouncycastleAsn1ASN1Sequence *) nil_chk(seq)) getObjects];
    version__ = OrgBouncycastleAsn1ASN1Integer_getInstanceWithId_([((id<JavaUtilEnumeration>) nil_chk(e)) nextElement]);
    digestAlgorithms_ = ((OrgBouncycastleAsn1ASN1Set *) check_class_cast([e nextElement], [OrgBouncycastleAsn1ASN1Set class]));
    contentInfo_ = OrgBouncycastleAsn1CmsContentInfo_getInstanceWithId_([e nextElement]);
    while ([e hasMoreElements]) {
      OrgBouncycastleAsn1ASN1Primitive *o = (OrgBouncycastleAsn1ASN1Primitive *) check_class_cast([e nextElement], [OrgBouncycastleAsn1ASN1Primitive class]);
      if ([o isKindOfClass:[OrgBouncycastleAsn1ASN1TaggedObject class]]) {
        OrgBouncycastleAsn1ASN1TaggedObject *tagged = (OrgBouncycastleAsn1ASN1TaggedObject *) check_class_cast(o, [OrgBouncycastleAsn1ASN1TaggedObject class]);
        switch ([((OrgBouncycastleAsn1ASN1TaggedObject *) nil_chk(tagged)) getTagNo]) {
          case 0:
          certsBer_ = [tagged isKindOfClass:[OrgBouncycastleAsn1BERTaggedObject class]];
          certificates_ = OrgBouncycastleAsn1ASN1Set_getInstanceWithOrgBouncycastleAsn1ASN1TaggedObject_withBoolean_(tagged, NO);
          break;
          case 1:
          crlsBer_ = [tagged isKindOfClass:[OrgBouncycastleAsn1BERTaggedObject class]];
          crls_ = OrgBouncycastleAsn1ASN1Set_getInstanceWithOrgBouncycastleAsn1ASN1TaggedObject_withBoolean_(tagged, NO);
          break;
          default:
          @throw [[JavaLangIllegalArgumentException alloc] initWithNSString:JreStrcat("$I", @"unknown tag value ", [tagged getTagNo])];
        }
      }
      else {
        signerInfos_ = (OrgBouncycastleAsn1ASN1Set *) check_class_cast(o, [OrgBouncycastleAsn1ASN1Set class]);
      }
    }
  }
  return self;
}

- (OrgBouncycastleAsn1ASN1Integer *)getVersion {
  return version__;
}

- (OrgBouncycastleAsn1ASN1Set *)getDigestAlgorithms {
  return digestAlgorithms_;
}

- (OrgBouncycastleAsn1CmsContentInfo *)getEncapContentInfo {
  return contentInfo_;
}

- (OrgBouncycastleAsn1ASN1Set *)getCertificates {
  return certificates_;
}

- (OrgBouncycastleAsn1ASN1Set *)getCRLs {
  return crls_;
}

- (OrgBouncycastleAsn1ASN1Set *)getSignerInfos {
  return signerInfos_;
}

- (OrgBouncycastleAsn1ASN1Primitive *)toASN1Primitive {
  OrgBouncycastleAsn1ASN1EncodableVector *v = [[OrgBouncycastleAsn1ASN1EncodableVector alloc] init];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:version__];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:digestAlgorithms_];
  [v addWithOrgBouncycastleAsn1ASN1Encodable:contentInfo_];
  if (certificates_ != nil) {
    if (certsBer_) {
      [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1BERTaggedObject alloc] initWithBoolean:NO withInt:0 withOrgBouncycastleAsn1ASN1Encodable:certificates_]];
    }
    else {
      [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1DERTaggedObject alloc] initWithBoolean:NO withInt:0 withOrgBouncycastleAsn1ASN1Encodable:certificates_]];
    }
  }
  if (crls_ != nil) {
    if (crlsBer_) {
      [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1BERTaggedObject alloc] initWithBoolean:NO withInt:1 withOrgBouncycastleAsn1ASN1Encodable:crls_]];
    }
    else {
      [v addWithOrgBouncycastleAsn1ASN1Encodable:[[OrgBouncycastleAsn1DERTaggedObject alloc] initWithBoolean:NO withInt:1 withOrgBouncycastleAsn1ASN1Encodable:crls_]];
    }
  }
  [v addWithOrgBouncycastleAsn1ASN1Encodable:signerInfos_];
  return [[OrgBouncycastleAsn1BERSequence alloc] initWithOrgBouncycastleAsn1ASN1EncodableVector:v];
}

- (void)copyAllFieldsTo:(OrgBouncycastleAsn1CmsSignedData *)other {
  [super copyAllFieldsTo:other];
  other->version__ = version__;
  other->digestAlgorithms_ = digestAlgorithms_;
  other->contentInfo_ = contentInfo_;
  other->certificates_ = certificates_;
  other->crls_ = crls_;
  other->signerInfos_ = signerInfos_;
  other->certsBer_ = certsBer_;
  other->crlsBer_ = crlsBer_;
}

+ (void)initialize {
  if (self == [OrgBouncycastleAsn1CmsSignedData class]) {
    OrgBouncycastleAsn1CmsSignedData_VERSION_1_ = [[OrgBouncycastleAsn1ASN1Integer alloc] initWithLong:1];
    OrgBouncycastleAsn1CmsSignedData_VERSION_3_ = [[OrgBouncycastleAsn1ASN1Integer alloc] initWithLong:3];
    OrgBouncycastleAsn1CmsSignedData_VERSION_4_ = [[OrgBouncycastleAsn1ASN1Integer alloc] initWithLong:4];
    OrgBouncycastleAsn1CmsSignedData_VERSION_5_ = [[OrgBouncycastleAsn1ASN1Integer alloc] initWithLong:5];
    J2OBJC_SET_INITIALIZED(OrgBouncycastleAsn1CmsSignedData)
  }
}

@end

OrgBouncycastleAsn1CmsSignedData *OrgBouncycastleAsn1CmsSignedData_getInstanceWithId_(id o) {
  OrgBouncycastleAsn1CmsSignedData_init();
  if ([o isKindOfClass:[OrgBouncycastleAsn1CmsSignedData class]]) {
    return (OrgBouncycastleAsn1CmsSignedData *) check_class_cast(o, [OrgBouncycastleAsn1CmsSignedData class]);
  }
  else if (o != nil) {
    return [[OrgBouncycastleAsn1CmsSignedData alloc] initWithOrgBouncycastleAsn1ASN1Sequence:OrgBouncycastleAsn1ASN1Sequence_getInstanceWithId_(o)];
  }
  return nil;
}

OrgBouncycastleAsn1ASN1Integer *OrgBouncycastleAsn1CmsSignedData_calculateVersionWithOrgBouncycastleAsn1ASN1ObjectIdentifier_withOrgBouncycastleAsn1ASN1Set_withOrgBouncycastleAsn1ASN1Set_withOrgBouncycastleAsn1ASN1Set_(OrgBouncycastleAsn1CmsSignedData *self, OrgBouncycastleAsn1ASN1ObjectIdentifier *contentOid, OrgBouncycastleAsn1ASN1Set *certs, OrgBouncycastleAsn1ASN1Set *crls, OrgBouncycastleAsn1ASN1Set *signerInfs) {
  jboolean otherCert = NO;
  jboolean otherCrl = NO;
  jboolean attrCertV1Found = NO;
  jboolean attrCertV2Found = NO;
  if (certs != nil) {
    for (id<JavaUtilEnumeration> en = [certs getObjects]; [((id<JavaUtilEnumeration>) nil_chk(en)) hasMoreElements]; ) {
      id obj = [en nextElement];
      if ([obj isKindOfClass:[OrgBouncycastleAsn1ASN1TaggedObject class]]) {
        OrgBouncycastleAsn1ASN1TaggedObject *tagged = OrgBouncycastleAsn1ASN1TaggedObject_getInstanceWithId_(obj);
        if ([((OrgBouncycastleAsn1ASN1TaggedObject *) nil_chk(tagged)) getTagNo] == 1) {
          attrCertV1Found = YES;
        }
        else if ([tagged getTagNo] == 2) {
          attrCertV2Found = YES;
        }
        else if ([tagged getTagNo] == 3) {
          otherCert = YES;
        }
      }
    }
  }
  if (otherCert) {
    return [[OrgBouncycastleAsn1ASN1Integer alloc] initWithLong:5];
  }
  if (crls != nil) {
    for (id<JavaUtilEnumeration> en = [crls getObjects]; [((id<JavaUtilEnumeration>) nil_chk(en)) hasMoreElements]; ) {
      id obj = [en nextElement];
      if ([obj isKindOfClass:[OrgBouncycastleAsn1ASN1TaggedObject class]]) {
        otherCrl = YES;
      }
    }
  }
  if (otherCrl) {
    return OrgBouncycastleAsn1CmsSignedData_VERSION_5_;
  }
  if (attrCertV2Found) {
    return OrgBouncycastleAsn1CmsSignedData_VERSION_4_;
  }
  if (attrCertV1Found) {
    return OrgBouncycastleAsn1CmsSignedData_VERSION_3_;
  }
  if (OrgBouncycastleAsn1CmsSignedData_checkForVersion3WithOrgBouncycastleAsn1ASN1Set_(self, signerInfs)) {
    return OrgBouncycastleAsn1CmsSignedData_VERSION_3_;
  }
  if (![((OrgBouncycastleAsn1ASN1ObjectIdentifier *) nil_chk(OrgBouncycastleAsn1CmsCMSObjectIdentifiers_get_data_())) isEqual:contentOid]) {
    return OrgBouncycastleAsn1CmsSignedData_VERSION_3_;
  }
  return OrgBouncycastleAsn1CmsSignedData_VERSION_1_;
}

jboolean OrgBouncycastleAsn1CmsSignedData_checkForVersion3WithOrgBouncycastleAsn1ASN1Set_(OrgBouncycastleAsn1CmsSignedData *self, OrgBouncycastleAsn1ASN1Set *signerInfs) {
  for (id<JavaUtilEnumeration> e = [((OrgBouncycastleAsn1ASN1Set *) nil_chk(signerInfs)) getObjects]; [((id<JavaUtilEnumeration>) nil_chk(e)) hasMoreElements]; ) {
    OrgBouncycastleAsn1CmsSignerInfo *s = OrgBouncycastleAsn1CmsSignerInfo_getInstanceWithId_([e nextElement]);
    if ([((JavaMathBigInteger *) nil_chk([((OrgBouncycastleAsn1ASN1Integer *) nil_chk([((OrgBouncycastleAsn1CmsSignerInfo *) nil_chk(s)) getVersion])) getValue])) intValue] == 3) {
      return YES;
    }
  }
  return NO;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgBouncycastleAsn1CmsSignedData)
